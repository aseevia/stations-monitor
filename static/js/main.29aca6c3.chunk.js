(this["webpackJsonpstations-monitor"]=this["webpackJsonpstations-monitor"]||[]).push([[0],{18:function(t,e,s){},21:function(t,e,s){},22:function(t,e,s){},23:function(t,e,s){},25:function(t,e,s){},37:function(t,e,s){},38:function(t,e,s){"use strict";s.r(e);var n=s(1),i=s.n(n),a=s(5),c=s.n(a),l=(s(18),s(19),s(20),s(21),s(6)),o=s(13),r=(s(22),s(23),s(0));var m=function(t){var e=t.items,s=t.Item,n=t.itemClick;return Object(r.jsx)("ul",{className:"stm-stations-list",children:e&&e.map((function(t){return Object(r.jsx)(s,{onClick:n,item:t},t.station_ID)}))})},u=(s(25),s.p+"static/media/icon_available.f9d945c1.svg"),d=s.p+"static/media/icon_offline.c4124c45.svg";var j=function(t){return Object(r.jsx)("li",{className:"stm-station mb05",onClick:function(){return t.onClick(t.item)},children:Object(r.jsxs)("div",{className:"stm-station__in",children:[Object(r.jsx)("h3",{className:"stm-station__name",children:t.item.name}),Object(r.jsxs)("div",{className:"stm-station-status",children:[Object(r.jsx)("img",{src:t.item.available?u:d,alt:"Station status",className:"stm-station-status-icon"}),t.item.available?"Available":"Offline"]})]})})},b=s(2),f=s.n(b),h=(s(37),s.p+"static/media/icon_arrow--left.3e48f6f5.svg");var O=function(t){var e=t.item,s=t.onRequestClose;return Object(r.jsxs)("div",{className:"stm-details",children:[Object(r.jsxs)("div",{className:"stm-details-header df aic",children:[Object(r.jsx)("button",{onClick:s,className:"stm-details-back",children:Object(r.jsx)("img",{src:h,alt:"",className:"stm-details-back__icon"})}),Object(r.jsx)("h1",{className:"stm-details-title",children:e.name})]}),Object(r.jsx)("div",{className:"stm-details-content",children:Object(r.jsx)("ul",{className:"stm-details-list",children:Object.keys(e).map((function(t){return Object(r.jsxs)("li",{className:"stm-details-item mb2",children:[Object(r.jsx)("div",{className:"stm-details-item__label",children:t}),Object(r.jsx)("div",{className:"stm-details-item__value",children:e[t]})]},t)}))})})]})},v=s(11),x=s(12),N=new(function(){function t(){Object(v.a)(this,t),this.defaultUrl="/stations.json"}return Object(x.a)(t,[{key:"get",value:function(t){var e=this;return this.delay(2e3).then((function(){return fetch(t||e.defaultUrl)})).then((function(t){if(t.ok)return t.json();throw new Error("Failed to load stations list")}))}},{key:"delay",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}}]),t}());var g=function(){var t=Object(n.useReducer)((function(t,e){return Object(l.a)(Object(l.a)({},t),e)}),{busy:!1,busyMessage:"Loading...",stations:null,activeStation:null}),e=Object(o.a)(t,2),s=e[0],i=e[1],a=Object(n.useCallback)((function(){i({busy:!0,busyMessage:"Loading stations..."}),N.get().then((function(t){console.log("Stations loaded:",t),i({busy:!1,stations:t})})).catch((function(t){i({busy:!0,busyMessage:Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{className:"mb1",children:"Failed to load stations"}),Object(r.jsx)("button",{className:"stm-link",onClick:function(){return a()},children:"try again"})]})}),console.error("Error loading stations:",t)}))}),[]);function c(){i({activeStation:null})}return Object(n.useEffect)((function(){s.stations||s.busy||a()}),[s.stations,s.busy,a]),Object(r.jsxs)("div",{className:"stm",children:[Object(r.jsx)("div",{className:"stm__in",children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h1",{className:"mb1",children:"Your stations"}),Object(r.jsx)(m,{items:s.stations,Item:j,itemClick:function(t){return i({activeStation:t})}})]})}),Object(r.jsx)(f.a,{isOpen:!!s.activeStation,onRequestClose:c,contentLabel:"contentLabel",className:"modal",children:Object(r.jsx)("div",{className:"stm",children:Object(r.jsx)("div",{className:"stm__in",children:Object(r.jsx)("div",{className:"container",children:s.activeStation&&Object(r.jsx)(O,{item:s.activeStation,onRequestClose:c})})})})}),Object(r.jsx)(f.a,{isOpen:s.busy,className:"modal-message",children:Object(r.jsx)("div",{className:"tac",children:s.busyMessage})})]})},y=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,39)).then((function(e){var s=e.getCLS,n=e.getFID,i=e.getFCP,a=e.getLCP,c=e.getTTFB;s(t),n(t),i(t),a(t),c(t)}))};f.a.defaultStyles.overlay.zIndex="20",f.a.setAppElement("#root"),c.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(g,{})}),document.getElementById("root")),y()}},[[38,1,2]]]);
//# sourceMappingURL=main.29aca6c3.chunk.js.map